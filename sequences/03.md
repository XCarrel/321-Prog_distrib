# Travail planifié par XCL pour FID2, semaine du 26.01.2026

- Checkpoint #2 (MQTT + Monitoring)
- Revue des réponses

## Comprendre la différence entre puissance et énergie

- Le [cycliste](https://github.com/ETML-INF/321-Prog_distrib/blob/main/supports/Puissance%20et%20%C3%A9nergie.md)
- Autre exemple: un tuyau d'arrosage qui remplit une piscine:
  - La puissance du jet est instantanée
  - L'énergie est représentée par la quantité d'eau dans la piscine
  - Si on fait couler le jet à forte puissance, on aura plus d'eau dans la piscine après un quart d'heure qui si il coule à faible puissance.

## Pratique Powercher:

- Objectif:
  - Chaque maison affiche son bilan énergétique en "temps réel"

- Préparation:
  - Pull (j'ai fait des changements dans la base, j'ai fait les Sync Fork). 2 cas particuliers: Veronika et Christopher.
  - Distinction entre produit (iPhone 32) et appareil (S/N 5621347)
  - Présentation du data model [général](https://github.com/ETML-INF/powercher/blob/main/Model.png) et de celui des [appareils](https://github.com/ETML-INF/powercher/blob/main/Appliances.png)
  - Présentation du [catalogue](https://github.com/ETML-INF/powercher/blob/main/DataModel/Equipment/Catalog.cs)

- Démarche
  - Définir l'UPS: le premier appareil de stockage du catalogue (utilisez LinQ : "Where" et "First")
  - Ajoutez entre 1 et 3 `ConsumingAppliance` de chaque catégories (Chauffage, cuisine, loisir, ...) à la liste des appareils de votre maison. Enclenchez tout les appareils.
  - Faites le bilan énergétique à chaque fois que vous recevez une nouvelle heure de mère nature:
    - Calculez le temps (simulé) qui s'est écoulé depuis le dernier message de MN. Si votre maison est à 12h32m15s et que vous recevez un message de MN qui dit qu'il est 12h33m45s, alors le temps écoulé est de 90 secondes.
    - Faites le tour de tout vos appareils pour calculer l'énergie qu'ils auront consommé en multipliant leur puissance par le temps écoulé (attention aux unités!)
    - Affichez le résultat sur votre maison, en [kWh]. Cela doit être un chiffre négatif, puisque vous n'avez que des appareils consommateurs.
    - Retirez ce montant de votre UPS et affichez son état.

S'il vous reste du temps:

- Afficher le détail de vos appareils de votre maison
- Explorez comment un appareil consommateur peut être programmé pour ne fonctionner qu'à certains moments de la journée

## Idempotence

- [Théorie](../supports/idempotence.md)
- Etablir le diagramme de séquence de la recharge de l'UPS
- Où est-ce que l'idempotence intervient ?

## Pratique Powercher:

- Objectif:
  - Votre maison recharge son UPS quand elle arrive en dessous d'un certain seuil de charge (que vous choisissez)
